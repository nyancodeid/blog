<!DOCTYPE html>
<html lang="id-ID">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Preact Hooks: untuk Functional Component | NyanDev Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="36x36" href="/icons/android-icon-36x36.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="preconnect" href="https://cdn.statically.io" crossorigin="">
    <link rel="dns-prefetch" href="https://cdn.statically.io">
    <link rel="preconnect" href="https://telegra.ph" crossorigin="">
    <link rel="dns-prefetch" href="https://telegra.ph">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com/">
    <link rel="preconnect" href="https://images1-focus-opensocial.googleusercontent.com" crossorigin="">
    <link rel="dns-prefetch" href="https://images1-focus-opensocial.googleusercontent.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lateef&amp;family=Work+Sans:ital,wght@0,400;0,500;1,400&amp;display=swap" media="all">
    <link rel="stylesheet" href="https://cdn.statically.io/gh/PrismJS/prism-themes/dddd93a8/themes/prism-material-dark.min.css" media="all">
    <script src="https://cdn.statically.io/gh/aFarkas/lazysizes/gh-pages/lazysizes.min.js" async=""></script>
    <link rel="alternate" type="application/rss+xml" href="https://blog.nyandev.id/rss.xml" title="NyanDev Blog RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://blog.nyandev.id/feed.atom" title="NyanDev Blog Atom Feed">
    <link rel="alternate" type="application/json" href="https://blog.nyandev.id/feed.json" title="NyanDev Blog JSON Feed">
    <meta name="description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas.">
    <meta name="keywords" content="preact,cli,preact.js,react">
    <meta property="article:published_time" content="2020-01-24T07:49:21.000Z">
    <meta property="article:modified_time" content="2021-01-04T14:43:28.000Z">
    <meta property="og:site_name" content="NyanDev Blog">
    <meta property="og:title" content="Preact Hooks: untuk Functional Component">
    <meta property="og:description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blog.nyandev.id/preact/preact-hooks.html">
    <meta property="og:image" content="https://blog.nyandev.id/images/covers/preact-hooks--nyandev-blog.jpg">
    <meta name="twitter:title" content="Preact Hooks: untuk Functional Component">
    <meta name="twitter:description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas.">
    <meta name="twitter:url" content="https://blog.nyandev.id/preact/preact-hooks.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://blog.nyandev.id/images/covers/preact-hooks--nyandev-blog.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="preact, cli, preactjs, javascript, react">
    <meta property="article:tag" content="preact">
    <meta property="og:image:alt" content="Preact Hooks: untuk Functional Component">
    <meta property="og:image:width" content="450">
    <meta property="author" content="Ryan Aunur Rassyid">
    <meta property="article:author" content="Ryan Aunur Rassyid">
    <meta name="theme-color" content="#65c59a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/css/0.styles.5444b6f6.css" as="style"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/app.b278c95c.js" as="script"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/2.bd2c32a5.js" as="script"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/39.eaef404a.js" as="script"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/5.10da15cc.js" as="script"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/7.8bdf9960.js" as="script"><link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/11.01b387f0.js" as="script"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/10.9a304a46.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/12.d46cc857.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/13.570fff84.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/14.bed20c3b.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/15.3327e637.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/16.ae2262b0.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/17.f3489e4e.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/18.413acd09.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/19.e067632b.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/20.1e45d928.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/21.1b8755c6.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/22.52848759.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/23.85589d20.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/24.3b2363a6.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/25.8e80a2e3.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/26.c56235a2.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/27.0830cc0b.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/28.c29dc760.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/29.19f50741.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/3.f5915063.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/30.2e89092f.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/31.ea5ca72d.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/32.6206e75b.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/33.a999bec6.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/34.ee3b99ac.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/35.df816e7d.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/36.55a30b02.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/37.0cb7567c.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/38.b78a5a64.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/4.1c22461f.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/40.ef3c580c.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/41.f85761a0.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/42.17c93ab7.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/43.5bc3b6ad.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/44.b8422032.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/45.33594894.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/46.0c4f4a92.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/47.4f05f226.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/48.54d90a30.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/6.c291cc8f.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/8.87357d0d.js"><link rel="prefetch" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/9.80f45fa0.js">
    <link rel="stylesheet" href="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/css/0.styles.5444b6f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NyanDev Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/preact/" class="nav-link router-link-active">
  Preact
</a></li><li class="dropdown-item"><!----> <a href="/preact/belajar-preact/" class="nav-link">
  Series: Belajar Preact
</a></li></ul></div></div><div class="nav-item"><a href="/devops/" class="nav-link">
  Devops
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><span class="title">Others</span> <span class="arrow down"></span></button> <button type="button" aria-label="Others" class="mobile-dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/" class="nav-link">
  Tips
</a></li><li class="dropdown-item"><!----> <a href="/informasi/" class="nav-link">
  Informasi
</a></li><li class="dropdown-item"><!----> <a href="/bookmark/" class="nav-link">
  Bookmark
</a></li></ul></div></div> <a href="https://github.com/nyancodeid/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/preact/" class="nav-link router-link-active">
  Preact
</a></li><li class="dropdown-item"><!----> <a href="/preact/belajar-preact/" class="nav-link">
  Series: Belajar Preact
</a></li></ul></div></div><div class="nav-item"><a href="/devops/" class="nav-link">
  Devops
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><span class="title">Others</span> <span class="arrow down"></span></button> <button type="button" aria-label="Others" class="mobile-dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/" class="nav-link">
  Tips
</a></li><li class="dropdown-item"><!----> <a href="/informasi/" class="nav-link">
  Informasi
</a></li><li class="dropdown-item"><!----> <a href="/bookmark/" class="nav-link">
  Bookmark
</a></li></ul></div></div> <a href="https://github.com/nyancodeid/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="preact-hooks-untuk-functional-component"><a href="#preact-hooks-untuk-functional-component" class="header-anchor">#</a> Preact Hooks: untuk Functional Component</h1> <div class="author d-flex"><div class="author-main d-flex"><div class="author-avatar"><img src="/images/profiles/avatar.jpg" alt="Ryan Aunur Rassyid" width="48" height="48"> <!----></div> <div class="author-detail"><div><span>Ryan Aunur Rassyid</span> <div class="author-detail--follow"><button>Follow</button></div></div> <span>Jan 24, 2020 · 8 min read</span></div></div> <div class="author-social d-flex"><div class="author-social-wrapper d-flex"><div><a href="https://twitter.com/AunurRyan" target="_blank"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div> <div><a href="https://www.facebook.com/ryan.hac" target="_blank"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div> <div><a href="https://medium.com/@ryandevstudio" target="_blank"><svg enable-background="new 0 0 24 24" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m7.996 21.324c0 .695-.521.982-1.098.695l-6.228-3.113c-.188-.089-.346-.238-.475-.447s-.195-.417-.195-.622v-15.227c0-.568.341-.825 1.112-.441l6.844 3.42c.099.099.026-.581.04 15.735zm.857-14.32 7.152 11.568-7.152-3.553zm15.147.241v14.079c0 .223-.062.403-.188.541-.125.138-.295.207-.509.207s-.424-.058-.629-.174l-5.906-2.939zm-.04-1.603c0 .027-1.145 1.895-3.435 5.603s-3.632 5.88-4.025 6.512l-5.223-8.469 4.339-7.039c.236-.388.72-.456 1.045-.294l7.246 3.607c.035.017.053.044.053.08z"></path></svg></a></div></div></div></div> <p class="featured-image"><img alt="Preact Hooks: untuk Functional Component" title="Preact Hooks: untuk Functional Component | NyanDev Blog" data-src="/images/covers/preact-hooks--nyandev-blog.jpg" src="/images/covers/preact-hooks--nyandev-blog.jpg" class="no-zoom lazy"> <span class="featured-image--subtitle">(source <u><a href="https://unsplash.com" rel="noopener noreferrer" target="_blank">unsplash.com</a></u>)</span></p> <blockquote><p>Hooks is a new concept that allows you to compose state and side effects. They allow you to reuse stateful logic between components.</p></blockquote> <p>Ketika kita membuat component kita akan berfikir apakah component ini akan menggunakan Function atau Class. Kedua nya memang berbeda dan memiliki keuntungan dan kekurangan masing masing. Misalnya, kita ingin membuat sebuah component yang sederhana dan hanya menampilkan nilai dari props saja. Tapi ditengah jalan kita merasa bahwa component ini membutuhkan lifecycle methods atau state yang akhirnya kita melakukkan refactor component tersebut menjadi class component.</p> <p>Permasalahan ini ada bahkan untuk pengguna React sekalipun. Kabar baiknya untuk React versi <code>16.8</code> mulai diperkenalkan fitur <code>React Hooks</code>. Tentu saja Preact juga mengadaptasi fitur luar biasa ini, bagaimana tidak. Fitur ini memungkinkan kita untuk berinteraksi dengan Lifecycle dan State dalam Functional Component. Kali ini kita akan berkenalan lebih dekat dengan fitur yang diusung oleh Developer React yang ada pada Preact.</p> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of Contents</h2> <p></p><div class="table-of-contents"><ul><li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#introduction">Introduction</a></li><li><a href="#import-hooks-features">Import hooks features</a></li><li><a href="#stateful-hooks">Stateful hooks</a><ul><li><a href="#usestate">useState</a></li><li><a href="#usereducer">useReducer</a></li></ul></li><li><a href="#memorization">Memorization</a><ul><li><a href="#usememo">useMemo</a></li><li><a href="#usecallback">useCallback</a></li></ul></li><li><a href="#useref">useRef</a></li><li><a href="#usecontext">useContext</a></li><li><a href="#side-effects">Side-Effects</a><ul><li><a href="#useeffect">useEffect</a></li><li><a href="#useerrorboundary">useErrorBoundary</a></li></ul></li><li><a href="#referensi">Referensi</a></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p><code>Hook</code> adalah sebuah konsep baru yang memungkinkan kita untuk mengubah state dan side effects. Hook juga memungkinkan kita untuk menggunakan kembali (<em>reuse</em>) stateful logic antar component.</p> <p>Cara paling mudah untuk memahami Hook adalah membandingkan antara component berbasis Class. Dibawah ini adalah contoh component penghitung sederhana yang dibuat menggunakan Classes Component.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prev</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token operator">:</span> prev<span class="token punctuation">.</span>value <span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Counter: </span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Dan dibawah ini adalah component dengan fungsi yang sama namun ditulis menggunakan Functional Component.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setValue</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Counter: </span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Pada point ini mungkin ada kesamaan antara kedua nya namun kenyataanya Hook membuat component lebih rapi dan simpel.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Mungkin ini terlihat aneh, tenang kamu tidak sendiri. Penulis awalnya juga berfikiran begitu. Butuh pembiasaan dan study case untuk bisa menerima dan memahami konsep Hook yang luar biasa.</p></div> <p>Kata kunci yang paling penting dalam memahami Hook menurut penulis adalah, <code>Array Destructuring</code>, <code>Syntax</code>, dan <code>Side Effect</code>.</p> <h2 id="import-hooks-features"><a href="#import-hooks-features" class="header-anchor">#</a> Import hooks features</h2> <p>Untuk menggunakan API Hooks dalam project Preact, kamu harus import module tersebut terlebih dahulu. Cara nya adalah sebagai berikut.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'preact/hooks'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="stateful-hooks"><a href="#stateful-hooks" class="header-anchor">#</a> Stateful hooks</h2> <h3 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h3> <p>Pada contoh diatas, kita menggunakan <code>useState</code>. useState adalah sebuah Hook, dan akan mengembalikan nilai dari state (pada contoh diatas: value) dan fungsi yang bisa kita gunakan untuk mengubah nilai tersebut (setValue). Fungsi setValue disini mirip dengan <code>this.setState</code> jadi bayangkan kalau state ditampung dalam object state nah disini kita membuatnya lebih kecil dengan membuat state yang lebih kecil dengan metode setState nya sendiri.</p> <p>useState memiliki parameter yang harus diisi, yaitu init value atau value awal. Contohnya disini parameter kita adalah <code>0</code>, jadi nilai awal dari state <code>value</code> adalah <code>0</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span> stateName<span class="token punctuation">,</span> setStateName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token constant">INITIAL_VALUE</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setStateName</span><span class="token punctuation">(</span>stateName <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// You can also pass a callback to the setter</span>
<span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setStateName</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentCount</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> currentCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Walaupun kamu bebas menggunakan variabel apa untuk mendefinsikan state kamu. Pastikan untuk mengikuti aturan atau best practice nya untuk memudahkan Team membaca kodingan kamu. Untuk <code>stateName</code> pastikan menggunakan nama yang mempresentasikan nama value tersebut, misalnya <code>value</code>, <code>name</code>, <code>isLoading</code>. Dan untuk <code>setStateName</code> gunakan format yang sama dengan <code>stateName</code> namun dengan menambahkan <code>set</code> didepannya, misalnya <code>setValue</code>, <code>setName</code>, <code>setIsLoading</code>. Dan pastikan bahwa kamu menggunakan Camel Case pada setiap pemberian nama variable untuk menunjukkan konsistensi kamu.</p> <h3 id="usereducer"><a href="#usereducer" class="header-anchor">#</a> useReducer</h3> <p>Hook useReducer memiliki kemiripan dengan redux. Dibandingkan dengan <code>useState</code> lebih mudah digunakan ketika kamu memiliki complex state logic yang dimana state selanjutnya bergantung pada state sebelumnya.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'increment'</span><span class="token operator">:</span> <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'decrement'</span><span class="token operator">:</span> <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'reset'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Unexpected action'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Returns the current state and a dispatch function to</span>
  <span class="token comment">// trigger an action</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'decrement'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>reset<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="memorization"><a href="#memorization" class="header-anchor">#</a> Memorization</h2> <p>Untuk menyimpan secara sementara (cache) perubahan pada state kita dibantu oleh beberapa hook berikut untuk meringankan kerja UI untuk nilai dependency yang tidak mengalami perubahan maka function tidak dikerjakan.</p> <h3 id="usememo"><a href="#usememo" class="header-anchor">#</a> useMemo</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> memoized <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">expensive</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// Only re-run the expensive function when any of these</span>
  <span class="token comment">// dependencies change</span>
  <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="usecallback"><a href="#usecallback" class="header-anchor">#</a> useCallback</h3> <p>Hook <strong>useCallback</strong> dapat digunakan untuk memastikan bahwa fungsi yang dikembalikan akan tetap sama secara referensi selama tidak ada dependensi yang berubah. Ini dapat digunakan untuk mengoptimalkan pembaruan child component ketika mereka bergantung pada referensi yang sama untuk melewati pembaruan (misalnya. <strong>ShouldComponentUpdate</strong>).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> onClick <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>useCallback memiliki 2 argument, yaitu <strong>Function</strong> dan <strong>Dependency</strong>. Untuk bisa mengakses <code>a</code> dan <code>b</code> maka kedua variable tersebut dipassing pada argument ke-2 method <code>useCallback</code> yang dibungkus kedalam Array.</p> <h2 id="useref"><a href="#useref" class="header-anchor">#</a> useRef</h2> <p>Untuk mendapatkan referensi pada DOM node kedalam functional component kita bisa memanfaatkan hook <strong>useRef</strong>. Cara kerjanya mirip dengan method <a href="https://preactjs.com/guide/v10/refs#createrefs" target="_blank" rel="noopener noreferrer">createRef<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Initialize useRef dengan nilai awal `null`</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> input<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> input<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>input<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Focus input</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Hati hati untuk tidak membuat bingung <code>useRef</code> dengan <code>createRef</code>.</p></div> <h2 id="usecontext"><a href="#usecontext" class="header-anchor">#</a> useContext</h2> <p>Untuk mengakses konteks dalam komponen fungsional kita dapat menggunakan hook <strong>useContext</strong>, tanpa ada higher-order component atau wrapper component. Menurut website <a href="https://alligator.io/" target="_blank" rel="noopener noreferrer">aligator.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> di artikelnya tentang <code>useContext</code> disebutkan bahwa <code>Context API</code> adalah alternatif yang sederhana dan mudah dipahami untuk “prop-drilling” ke atas dan ke bawah dari struktur komponen Anda. Alih-alih meneruskan data lokal di sekitar dan melalui beberapa lapisan komponen (passing data antar komponen), dibutuhkan langkah mundur untuk menciptakan state global, yang sangat berguna untuk data yang perlu dibagi di seluruh komponen (data seperti tema, otentikasi, bahasa pilihan, dll.)</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> Theme <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">DisplayTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>Theme<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Active theme: </span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...later</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Theme.Provider</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>light<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OtherComponent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DisplayTheme</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">OtherComponent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Theme.Provider</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="side-effects"><a href="#side-effects" class="header-anchor">#</a> Side-Effects</h2> <p>Side Effects adalah jantung dari modern app saat ini. Ketika value pada dependency argument berubah effect yang akan ditimbulkan dari perubahan tersebut akan memicu function yang ditetapkan sebagai callback nantinya.</p> <h3 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h3> <p>useEffect akan mentrigger function ketika sebuah nilai berubah atau memiliki dampak dari perubahan itu.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Trigger your effect</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Optional: Any cleanup code</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// &lt;-- Dependency Array</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Lihat contoh sederhannya dari penerapan useEffect dalam merubah judul document HTML setiap kali value dari <code>props.title</code> benar benar berubah untuk menghindari pemanggilan function secara terus menerus ketika props di-<em>refresh</em> namun valuenya tetap. Itulah kenapa kita meletakkan <code>props.title</code> pada dependency array.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">PageTitle</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> props<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>title<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Contoh lain dalam penerapan <code>useEffect</code> yang tidak menggunakan dependency array.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Component that will always display the current window width</span>
<span class="token keyword">function</span> <span class="token function">WindowWidth</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>width<span class="token punctuation">,</span> setWidth<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setWidth</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> onResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> onResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Window width<span class="token operator">:</span> <span class="token punctuation">{</span>width<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The cleanup function is optional. If you don't need to run any cleanup code, you don't need to return anything in the callback that's passed to <code>useEffect</code>.</p></div> <h3 id="useerrorboundary"><a href="#useerrorboundary" class="header-anchor">#</a> useErrorBoundary</h3> <p>Ketika component UI mengembalikan <code>Error</code> maka kita bisa handle menggunakan Hook <strong>useErrorBoundary</strong> untuk memberikan UI yang berbeda ketika component mengalami error saat menjalankan kode atau saat pemanggilan API berlangsung.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> resetError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useErrorBoundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Kamu juga bisa melakukkan hal lain misalnya mengirim error tersebut ke server untuk <em>error reporting</em> dengan cara berikut.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> resetError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useErrorBoundary</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token function">reportSomeError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Contoh lengkapnya lihat kode berikut.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> resetError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useErrorBoundary</span><span class="token punctuation">(</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token function">reportSomeError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Display a nice error message</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>error<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resetError<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Try again</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="referensi"><a href="#referensi" class="header-anchor">#</a> Referensi</h2> <a href="https://preactjs.com/guide/v10/hooks/" target="_blank" class="link-preview"><div class="link-preview--content"><p class="title">Hooks – Preact</p><p>Preact is a fast 3kB alternative to React with the same modern API.</p> <p>preactjs.com</p></div><div class="link-preview--thumbnail" style="background-image:url(https://preactjs.comhttps://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/app-icon.png);"></div></a><a href="https://medium.com/codelabs-unikom/mengenal-react-hooks-63aafde79da0" target="_blank" class="link-preview"><div class="link-preview--content"><p class="title">Mengenal React Hooks - UNIKOM Codelabs - Medium</p><p>Ketika membuat component di React, kita akan mempertimbangkan apakah harus menggunakan class atau function? karena ketika membuat function component maka kita tidak akan bisa menggunakan state atau…</p> <p>medium.com</p></div><div class="link-preview--thumbnail" style="background-image:url(https://miro.medium.com/max/1200/1*yPmUyz7rwQTcI1FLkoZBQQ.png);"></div></a><a href="https://alligator.io/react/usecontext/" target="_blank" class="link-preview"><div class="link-preview--content"><p class="title">The React useContext Hook in a Nutshell ← Alligator.io</p><p>An introductory guide to React's useContext Hook to gain access to a global state via the Context API.</p> <p>alligator.io</p></div><div class="link-preview--thumbnail" style="background-image:url(https://telegra.ph/file/9d0d66d03c52febd50913.png);"></div></a><div id="disqus_thread"><div id="disqus_empty"></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/nyancodeid/blog/edit/master/preact/preact-hooks.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/4/2021, 9:43:28 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/app.b278c95c.js" defer></script><script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/2.bd2c32a5.js" defer></script><script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/39.eaef404a.js" defer></script><script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/5.10da15cc.js" defer></script><script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/7.8bdf9960.js" defer></script><script src="https://cdn.statically.io/gh/nyancodeid/blog/gh-pages/assets/js/11.01b387f0.js" defer></script>
  </body>
</html>
